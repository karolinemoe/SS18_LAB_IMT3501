<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" media="screen" href="../css/index.css">

    <title>Mainpage</title>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Forum name</h1>
      </div>
      <div class="article">
        <div class="title">
          <a href="index.php">Forum</a>
        </div>
        {% if loggedIn == "true" %}
          <div class="logIn">
            <a href="profile.php">Profile</a>
          </div>
          <div class="logOut">
            <form class="logOutForm" method="POST" action="index.php">
              <input type="hidden" name="logOutForm" value="1">
              <input type="submit" value="Log out">
            </form>
          </div>
        {% else %}
          <div class="logIn">
            <a href="logIn.php">Log in</a>
          </div>
          <div class="logOut">
            <a href="register.php">Sign up</a>
          </div>
        {% endif %}
        <div class="search">
          <form class="searchbarForm" action="search.php" method="POST">
            <input class="searchbarInput" name="searchbar" id="searchbar" type="text" placeholder="Search" required>
            <input type="submit" value="Search">
          </form>
        </div>
        <div class="content">
          <h1>Categories</h1>
          {% if categories %}
            {% for category in categories %}
              <button id="{{ category.categoryId }}" onclick="ShowTopics(id)">
                {{ category.categoryName }}
              </button><br>
              {% if topics %}
                {% for topic in topics %}
                  {% if ("{{ topic.categoryId }}" == "{{ category.categoryId }}") %}
                  er det topics?<br>
                    <div class="Topics">{{ topic.topicName }}</div>
                  {% endif %}
                {% endfor %}
              {% endif %}
            {% endfor %}
          {% endif %}
        </div>
      </div>
      <div class="navLeft">
        <h2>Padding left</h2>
      </div>
      <div class="navRight">
        <h2>Padding right</h2>
      </div>
    </div>

    <script>
      var Topics = document.getElementsByClassName("Topics"), i;
      //Topics.style. = "none";

      for (var i = 0; i < Topics.length; i ++) {
        Topics[i].style.visibility = 'hidden';
      }


      function ShowTopics(id) {
        for (i = 0; i <= Topics.length; i++) {
          if(Topics[i].CategoryId == id) {
            if (Topics[i].style.visibility == 'hidden') {
              Topics[i].style.visibility = 'visible';
            } else {
              Topics[i].style.visibility = 'hidden';
            }
          }
        }
      }
    </script>

  </body>
</html>
